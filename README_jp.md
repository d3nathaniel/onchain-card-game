### **カードゲーム - README**

#### **概要**

これは、Solidity と Hardhat に基づくシンプルなカードドローゲームです。プレイヤーは `0.01 ETH` を支払ってカードを引きます。毎回カードを引くと、1枚のカードを受け取り、それがプレイヤーのコレクションに追加されます。プレイヤーはいつでも自分のコレクションを確認し、引いたカードをチェックできます。

#### **環境要件**

* Node.js（推奨バージョン `v16.x` 以上）
* npm（Node.js のパッケージマネージャー、通常 Node.js と一緒にインストールされます）
* Hardhat（Solidity 開発フレームワーク）
* Metamask（Ethereum アカウントの管理およびブロックチェーンとのやり取りのため）

---

### **デプロイと実行手順**

#### **1. プロジェクトのクローン**

```bash
git clone <リポジトリURL>
cd <プロジェクトディレクトリ>
```

#### **2. 依存関係のインストール**

プロジェクトディレクトリ内で、必要な依存関係をインストールします。

```bash
npm install
```

#### **3. Hardhat の設定**

* `hardhat.config.js` を編集して、ネットワークや契約設定を行います。
* テストネット（例: Rinkeby）を使用する場合は、Infura または Alchemy の API キーとウォレットの秘密鍵を設定します。

#### **4. コントラクトのコンパイル**

以下のコマンドで Solidity コントラクトをコンパイルします。

```bash
npx hardhat compile
```

#### **5. コントラクトのデプロイ**

デプロイメントスクリプトを作成して、指定したネットワークにコントラクトをデプロイします。

```bash
npx hardhat run scripts/deploy.js --network hardhat
```

* 他のネットワーク（例: Rinkeby）にデプロイする場合は、以下のコマンドを使用します。

```bash
npx hardhat run scripts/deploy.js --network rinkeby
```

#### **6. ゲームの開始**

インタラクションスクリプトを実行して、ゲームをプレイします。このスクリプトでは、コマンドラインからカードを引いたり、コレクションを確認したりすることができます。

```bash
npx hardhat run scripts/play.js --network hardhat
```

プレイヤーは以下のコマンドを入力してゲームとインタラクションできます：

* **`draw`**：カードを引く。
* **`view`**：プレイヤーのカードコレクションを表示する。
* **`exit`**：ゲームを終了する。

#### **7. フロントエンドとのインタラクション（オプション）**

フロントエンドアプリケーションを作成している場合、`ethers.js` を使ってコントラクトとインタラクションし、カード情報を表示したりゲーム機能を実装することができます。

#### **8. コントラクトのテスト（オプション）**

Hardhat のテストフレームワークを使用してコントラクトロジックをテストできます。以下のコマンドでテストを実行します：

```bash
npx hardhat test
```

---

### **ゲームのルール**

* **カードを引く費用**：カードを引くためには `0.01 ETH` が必要です。
* **カードプールのサイズ**：カードプールには限られた数のカードがあります。プレイヤーがカードを引くたびにプールのカード数は減少します。
* **カードコレクション**：引いたカードはプレイヤーのカードコレクションに追加され、プレイヤーは自分が引いたカードを確認できます。
* **ゲーム終了**：カードプールが尽きると、プレイヤーはカードを引けなくなり、ゲームが終了します。

---

### **ゲームコマンド**

* **`draw`**：カードを引く。
* **`view`**：プレイヤーのカードコレクションを表示する。
* **`exit`**：ゲームを終了する。

---

### **今後の拡張機能**

* **勝利条件**：現在、明確な勝利条件は設定されていません。特定のカード数やカードの組み合わせで勝利する機能を追加することができます。
* **カード属性**：各カードに攻撃力やHPなどの属性を追加して、ゲームの複雑さを増やすことができます。
* **マルチプレイヤーバトル**：プレイヤー同士で対戦できるようにマルチプレイヤー機能を追加することができます。

---

### **結論**

これらの手順に従って、このカードドローゲームをSolidityベースでローカルにデプロイして実行できます。また、ゲームの機能を必要に応じて拡張し、最適化することができます。
