### **Card Game - README**

[English](README.md) | [简体中文](README_zh-CN.md) | [日本語](README_ja.md) | [繁體中文](README_zh-Hant.md)

#### **概述**

这是一款基于 Solidity 和 Hardhat 的简单卡牌抽取游戏。玩家通过支付 `0.01 ETH` 的费用来抽取卡牌，每次抽卡时，玩家会获得一张卡牌，并将其添加到玩家的卡组中。玩家可以随时查看自己的卡组，查看自己已抽到的所有卡牌。

#### **环境要求**

* Node.js（建议版本 `v16.x` 或以上）
* npm（Node.js 包管理器，通常会与 Node.js 一起安装）
* Hardhat（Solidity 开发框架）
* Metamask（用于管理以太坊账户和与区块链交互）

---

### **部署和运行步骤**

#### **1. 克隆项目**

```bash
git clone https://github.com/d3nathaniel/onchain-card-game.git
cd onchain-card-game
```

#### **2. 安装依赖**

在项目目录中安装所需的依赖：

```bash
npm install
```

#### **3. 配置 Hardhat**

* 编辑 `hardhat.config.js`，配置网络和合约设置。
* 如果使用测试网络（如 Rinkeby），请配置 Infura 或 Alchemy API 密钥，以及钱包私钥。

#### **4. 编译合约**

在终端中运行以下命令来编译 Solidity 合约：

```bash
npx hardhat compile
```

#### **5. 部署合约**

创建并运行部署脚本，将合约部署到指定网络：

```bash
npx hardhat run scripts/deploy.js --network hardhat
```

* 如果要部署到其他网络（如 Rinkeby），使用以下命令：

```bash
npx hardhat run scripts/deploy.js --network rinkeby
```

#### **6. 启动游戏**

运行交互脚本与游戏进行交互。此脚本提供了命令行交互功能，玩家可以输入命令执行抽卡、查看卡组等操作：

```bash
npx hardhat run scripts/play.js --network hardhat
```

玩家可以通过命令行输入以下命令与游戏交互：

* **`draw`**：抽取一张卡牌。
* **`view`**：查看当前玩家的卡组。
* **`exit`**：退出游戏。

#### **7. 使用前端与合约交互（可选）**

如果你有前端应用，可以通过 `ethers.js` 与合约交互，展示卡牌信息并实现游戏功能。

#### **8. 测试合约（可选）**

你可以使用 Hardhat 测试框架来测试合约逻辑，运行以下命令进行测试：

```bash
npx hardhat test
```

---

### **游戏玩法**

* **抽卡费用**：每次抽卡需要支付 `0.01 ETH`。
* **卡池大小**：卡池中有一定数量的卡牌，玩家每次抽卡时，卡池中的卡牌数量会减少。
* **卡组**：每次抽到的卡牌会添加到玩家的卡组中，玩家可以查看自己已抽到的卡牌。
* **游戏结束**：当卡池中的卡牌被抽完时，玩家无法继续抽卡，游戏结束。

---

### **游戏命令**

- `draw`: 抽取一张新卡牌（最多5张）
- `view`: 查看你的卡牌收藏
- `accounts`: 列出所有可用账户
- `switch <索引>`: 切换到不同的账户（例如，`switch 1` 切换到账户 #1）
- `exit`: 退出游戏

## 多玩家模式

游戏通过不同的以太坊账户支持多玩家。每个账户都有自己的卡牌收藏。使用 `accounts` 命令查看可用账户，使用 `switch <索引>` 在账户之间切换。

## 重置你的卡牌

---

### **未来扩展**

* **胜利条件**：目前游戏没有设定明确的胜利条件，可以根据需要添加，例如：达到特定卡牌数量或特定卡牌组合。
* **卡牌属性**：为每张卡牌赋予不同的属性（如攻击力、生命值等）以增加游戏复杂度。
* **多玩家对战**：加入多人对战功能，使得玩家可以相互竞争。

---

### **结语**

通过这些步骤，你可以在本地部署并运行这款基于 Solidity 的卡牌抽取游戏，并与智能合约交互。你可以根据需求继续扩展和优化游戏功能。

---

**问：这个游戏中的 ID 和 Power 与传统扑克牌有什么不同？**  
**答：**

- **ID**：是卡牌的唯一标识符，按创建顺序从 1 开始递增，与传统扑克牌中的“花色+点数”无关。
- **Power**：是一个 0-99 之间的随机值，用来表示卡牌的强度或能力。而传统扑克牌的点数是固定的（如 A=1 或 14，K=13），不可变。

**区别的原因：**

- 传统扑克牌为固定的 52 张卡牌集合。
- 本游戏的卡牌是可无限生成的，每张卡牌的 Power 随机生成。

**如果你想让这个游戏更像扑克牌：**

你可以限制 Power 在 1-13，并添加一个表示花色的属性（0-3 代表黑桃、红心、梅花、方块）。
